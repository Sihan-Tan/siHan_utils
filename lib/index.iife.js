!function(){"use strict";var e=3600,n=24*e;function g(t){return!!(t||navigator.userAgent).match(/MicroMessenger/i)}var a={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,r,n,i,a,u){try{var o=t[a](u),c=o.value}catch(t){return void r(t)}o.done?e(c):Promise.resolve(c).then(n,i)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var u,o=t[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p={title:"微信分享",desc:"微信分享简介。",imgUrl:"https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png",link:"https://weixin.qq.com/",success:function(){console.log("success")}};function r(){var o;return o=regeneratorRuntime.mark(function t(r,e){var n,i,a,u,o,c,s,l,f=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=2<f.length&&void 0!==f[2]?f[2]:["updateAppMessageShareData","updateTimelineShareData"],i=3<f.length&&void 0!==f[3]?f[3]:{},g()){t.next=4;break}return t.abrupt("return");case 4:return a={title:i.title||p.title,desc:i.desc||p.desc,imgUrl:i.imgUrl||p.imgUrl,link:i.link||p.link,success:i.success||p.success},t.next=7,e();case 7:if(u=t.sent){t.next=10;break}return t.abrupt("return");case 10:o=u.appId,c=u.timestamp,s=u.signature,l=u.nonceStr,r.config({debug:!1,appId:o,timestamp:c,nonceStr:l,signature:s,jsApiList:n}),r.ready(function(){var t,e;e=a,(t=r).updateTimelineShareData(e),t.updateAppMessageShareData(e)}),r.error(function(t){console.log("err",t)});case 15:case"end":return t.stop()}},t)}),(r=function(){var t=this,u=arguments;return new Promise(function(e,r){var n=o.apply(t,u);function i(t){c(n,e,r,i,a,"next",t)}function a(t){c(n,e,r,i,a,"throw",t)}i(void 0)})}).apply(this,arguments)}function s(i,t){var a=null==t?i.length-1:Number(t);return function(){for(var t=Math.max(arguments.length-a,0),e=Array(t),r=0;r<t;r++)e[r]=arguments[r+a];switch(a){case 0:return i.call(this,e);case 1:return i.call(this,arguments[0],e);case 2:return i.call(this,arguments[0],arguments[1],e)}for(var n=Array(a+1),r=0;r<a;r++)n[r]=arguments[r];return n[a]=e,i.apply(this,n)}}var f=Date.now||function(){return(new Date).getTime()},l=s(function(t,e,r){return setTimeout(function(){return t.apply(null,r)},e)});function t(e){return function(t){return toString.call(t)==="[object "+e+"]"}}var m=t("String"),d=t("Number"),h=t("Date"),v=t("RegExp"),b=Array.isArray||t("Array"),y=t("Symbol"),S=t("Function");function w(t){return function(t,e){{if(null===t||"object"!==i(t))return t;var r=Array.isArray(t)?[]:{};if(e[t])return e[t];if(v(t))return console.log(/(\w*)$/,RegExp.$1),new RegExp(RegExp.$1);return e[t]=r,Object.entries(t).forEach(function(t){var e=u(t,2),t=e[0],e=e[1];r[t]=w(e)}),r}}(t,new Map)}module.exports={formatSecondToTime:function(t){return{days:t/n|0,hours:t%n/e|0,mins:t%e/60|0,seconds:t%60}},formatDate:function(t,e){var r=t;"number"==typeof(e=(e=e)||new Date)&&(e=new Date(e));var n,i={"y+":e.getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(n in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,String(e.getFullYear()).substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(r)&&(r=r.replace(RegExp.$1,1===RegExp.$1.length?i[n]:("00"+i[n]).substr(String(i[n]).length)));return r},calcAge:function(t){var e="string"==typeof t?new Date(t.replace(/-/g,"/")).getTime():t,r=(new Date).getTime(),t=Math.floor((r-e)/1e3),r="",e="";return t<30*n?e="未满月":t<365*n?(e="个月",12<=(r=t/(30*n)|0)&&(r=1,e="岁")):(r=t/(365*n)|0,e="岁"),{age:r,unit:e}},formatPrice:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0===e||5===e?2:1;return t.toFixed(e+1).replace(/(\d)(?=(\d{3})+\.)/g,"$1,").slice(0,-r)},formatNumberToChina:function(t){var e,r,n=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],i=["","拾","佰","仟"],a=["","万","亿","兆"],u=["角","分","毫","厘"],o=!(1<arguments.length&&void 0!==arguments[1])||arguments[1]?"整":"",c=!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?"圆":"",s="";if(""===t)return"";if(1e15<=(t=parseFloat(t)))return"";if(0===t)return s=n[0]+c+o;if(r=-1===(t=t.toString()).indexOf(".")?(e=t,""):(e=(t=t.split("."))[0],t[1].substr(0,4)),0<parseInt(e,10)){for(var l=0,f=e.length,g=0;g<f;g++){var p=e.substr(g,1),m=f-g-1,d=m/4,m=m%4;"0"===p?l++:(0<l&&(s+=n[0]),l=0,s+=n[parseInt(p,10)]+i[m]),0==m&&l<4&&(s+=a[d])}s+=c}if(""!==r)for(var h=r.length,v=0;v<h;v++){var b=r.substr(v,1);"0"!==b&&(s+=n[Number(b)]+u[v])}return""===s?s+=n[0]+c+o:""===r&&(s+=o),s},formatBankNumber:function(t){return t.replace(/\s/g,"").replace(/[^\d]/g,"").replace(/(\d{4})(?=\d)/g,"$1 ")},randomNumber:function(t,e){return Math.random()*(e-t+1)+t|0},isWeChat:g,isAndroid:function(t){return!!(t||navigator.userAgent).match(/Android/i)},isIOS:function(t){return!!(t||navigator.userAgent).match(/iPhone|iPad|iPod/i)},isMobile:function(t){return!!(t||navigator.userAgent).match(/Mobile/i)},checkBank:function(t){var t=(e=String(t).split("").reverse().map(function(t){return parseInt(t,10)})).splice(0,1)[0],e=e.reduce(function(t,e,r){return r%2!=0?t+e:t+2*e%9||9},0);return(e+=t)%10==0},checkEmail:function(t){return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t)},checkId:function(t){if(!(r="".concat(t)))return"请输入证件号码";if(!r.match(/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/gi))return"身份证号格式不正确";var e=0,r=r.replace(/x$/i,"a");if(null==a[parseInt(r.substr(0,2),10)])return"地区填写有误";var n=r.substr(6,4)+"-"+Number(r.substr(10,2))+"-"+Number(r.substr(12,2)),t=new Date(n.replace(/-/g,"/"));if(n!==t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate())return"生日有误";for(var i=17;0<=i;i--)e+=Math.pow(2,i)%11*parseInt(r.charAt(17-i),11);return e%11!=1?"非法证号":(t=(new Date).getFullYear()-t.getFullYear(),{area:{code:r.substr(0,2),value:a[parseInt(r.substr(0,2),10)]},birthday:n,age:t,gender:r.substr(16,1)%2?1:2})},checkPhone:function(t){return/^1\d{10}$/gi.test(t)},weChatShare:function(t,e){return r.apply(this,arguments)},now:f,delay:l,debounce:function(r,n){function i(t,e){a=null,e&&(u=r.apply(t,e))}var a,u,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],t=s(function(t){var e;return a&&clearTimeout(a),o?(e=!a,a=setTimeout(i,n),e&&(u=r.apply(this,t))):a=l(i,n,this,t),u});return t.cancel=function(){clearTimeout(a),a=null},t},throttle:function(r,n,t){function i(){s=!1===l.first?0:f(),a=null,c=r.apply(u,o),a||(u=o=null)}var a,u,o,c,s=0,l=(l=t)||{};return(t=function(){var t=f();s||!1!==l.first||(s=t);var e=n-(t-s);return u=this,o=arguments,e<=0||n<e?(a&&(clearTimeout(a),a=null),s=t,c=r.apply(u,o),a||(u=o=null)):a||!1===l.last||(a=setTimeout(i,e)),c}).cancel=function(){clearTimeout(a),s=0,a=u=o=null},t},isObject:function(t){var e=i(t);return"function"===e||"object"===e&&!!t},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isBoolean:function(t){return!0===t||!1===t||"[object Boolean]"===toString.call(t)},has:function(t,e){return null!=t&&hasOwnProperty.call(t,e)},isString:m,isNumber:d,isDate:h,isRegExp:v,isArray:b,isFunction:S,isSymbol:y,clone:w}}();
